!function(){if(document.querySelector("#horas")){let o={categoria_id:"",dia:""};const i=document.querySelector('[name="categoria_id"]'),c=document.querySelectorAll('[name="dia"]'),r=document.querySelector('[name="dia_id"]'),d=document.querySelector('[name="hora_id"]'),s=document.querySelectorAll("#horas li");let l="",u="",m="";function e(e){o[e.target.name]=e.target.value,n(),Object.values(o).includes("")||t()}async function t(){const{dia:e,categoria_id:t}=o,n=`/api/eventos-horario?dia_id=${e}&categoria_id=${t}`,c=await fetch(n);!function(e){s.forEach(e=>{e.classList.add("horas__hora--deshabilitada"),e.removeEventListener("click",a)});const t=e.map(e=>e.hora_id),n=Array.from(s);n.filter(e=>!t.includes(e.dataset.horaId)).forEach(e=>{e.classList.remove("horas__hora--deshabilitada"),e.addEventListener("click",a)})}((await c.json()).body),function(){if(i.value===l&&r.value===u){const e=document.querySelector(`[data-hora-id="${m}"]`);e.classList.remove("horas__hora--deshabilitada"),e.classList.add("horas__hora--seleccionada"),e.addEventListener("click",a),d.value=e.dataset.horaId}}()}function a(e){n(),e.target.classList.add("horas__hora--seleccionada"),d.value=e.target.dataset.horaId,r.value=document.querySelector('[name="dia"]:checked').value}function n(){d.value="";const e=document.querySelector(".horas__hora--seleccionada");e&&e.classList.remove("horas__hora--seleccionada")}(i.value||r.value||d.value)&&(l=i.value,u=r.value,m=d.value,o.categoria_id=l,o.dia=u,t()),i.addEventListener("change",e),c.forEach(t=>{t.addEventListener("change",e),t.addEventListener("change",()=>{r.value=t.value})})}}(),function(){const e=document.querySelector("#ponentes");if(e){let n=[],o=[];const i=document.querySelector("#listado-ponentes"),c=document.querySelector('[name="ponente_id"]'),r=c.value;function t(){for(;i.firstChild;)i.removeChild(i.firstChild);if(c.value="",o.length>0)return void o.forEach(e=>{const t=document.createElement("LI");t.classList.add("listado-ponentes__ponente"),t.textContent=e.nombre,t.dataset.ponenteId=e.id,t.onclick=a,e.id===r&&(t.classList.add("listado-ponentes__ponente--seleccionado"),c.value=e.id),i.appendChild(t)});const e=document.createElement("P");e.classList.add("listado-ponentes__sin-resultado"),e.textContent="No hay resultados para tu bÃºsqueda",i.appendChild(e)}function a(e){const t=document.querySelector(".listado-ponentes__ponente--seleccionado");t&&t.classList.remove("listado-ponentes__ponente--seleccionado");const a=e.target||e;a.classList.add("listado-ponentes__ponente--seleccionado"),c.value=a.dataset.ponenteId}!async function(){await async function(){const e=await fetch("/api/ponentes");!function(e=[]){n=e.map(e=>({nombre:`${e.nombre.trim()} ${e.apellido.trim()}`,id:e.id}))}((await e.json()).body)}(),r&&function(){const e=n.filter(e=>e.id===c.value);o=e,t();const i=e[0].id;a(document.querySelector(`[data-ponente-id="${i}"]`))}()}(),e.addEventListener("input",(function(e){const a=e.target.value;if(a.length>=3){const e=new RegExp(a,"i");o=n.filter(t=>{if(-1!=t.nombre.toLowerCase().search(e))return t})}else o=[];t()}))}}(),function(){const e=document.querySelector("#tags_input");if(!e)return;let t=[];const a=document.querySelector("#tags"),n=document.querySelector('[name="tags"]');function o(){a.textContent="",t.forEach(e=>{const t=document.createElement("LI");t.classList.add("formulario__tag"),t.textContent=e,t.ondblclick=i,a.appendChild(t)}),c()}function i(e){e.target.remove(),t=t.filter(t=>t!==e.target.textContent),c()}function c(){n.value=t.toString()}""!==n.value&&(t=n.value.split(","),o()),e.addEventListener("keypress",(function(a){if(44===a.keyCode){if(""===a.target.value.trim()||a.target.value<1)return;a.preventDefault(),t=[...t,a.target.value.trim()],e.value="",o()}}))}();
//# sourceMappingURL=bundle.js.map
